#include <stdio.h>
#include <stdlib.h>

int main() {
    int queue[20], n, head, i, j, temp, size, seek = 0, index;
    int arr[20], k = 0;

    printf("Enter disk size: ");
    scanf("%d", &size);
    printf("Enter number of requests: ");
    scanf("%d", &n);
    printf("Enter request sequence:\n");
    for(i=0;i<n;i++)
        scanf("%d", &queue[i]);
    printf("Enter initial head position: ");
    scanf("%d", &head);

    queue[n] = head;
    n++;
    for(i=0;i<n-1;i++) {
        for(j=0;j<n-1-i;j++) {
            if(queue[j] > queue[j+1]) {
                temp = queue[j];
                queue[j] = queue[j+1];
                queue[j+1] = temp;
            }
        }
    }

    for(i=0;i<n;i++) {
        if(queue[i] == head) {
            index = i;
            break;
        }
    }

    printf("\nSeek Sequence is:\n");
    for(i=index;i<n;i++) {
        printf("%d -> ", queue[i]);
        arr[k++] = queue[i];
    }
    for(i=0;i<index;i++) {
        printf("%d -> ", queue[i]);
        arr[k++] = queue[i];
    }

    for(i=0;i<k-1;i++)
        seek += abs(arr[i+1] - arr[i]);

    printf("\nTotal Seek Time = %d\n", seek);
    printf("Average Seek Time = %.2f\n", (float)seek/(n-1));
    return 0;
}
